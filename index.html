<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Rock Paper Scissors</title>
</head>
<body>
  
  <script>
      function computerPlay() {
          var choice = Math.floor((Math.random() * 3) + 1);
          switch (choice) {
              case 1:
              return 'Rock';
              break;
              case 2:
              return 'Paper';
              break;
              default:
              return 'Scissors';
          }
      }

      function playGame(playerSelection, computerSelection) {
          playerSelection = capitalize(playerSelection);

          if (playerSelection === computerSelection) {
              return "Draw! " + playerSelection + " draws against " + computerSelection;
          } else if (playerSelection === "Rock") {
            return computerSelection === "Paper" ? "You lose! Paper beats Rock" : "You win! Rock beats Scissors"; 
          } else if (playerSelection === "Paper") {
            return computerSelection === "Scissors" ? "You lose! Scissors beats Paper" : "You win! Paper beats Scissors"; 
          } else if (playerSelection === "Scissors") {
            return computerSelection === "Rock" ? "You lose! Rock beats Scissors" : "You win! Scissors beats Paper"; 
          } else { 
              return "Invalid throw!";
          }

      }

      function game() {
          let playerScore = 0;
          let computerScore = 0;

          for (i = 0 ; i < 5 ; i++) {
              let playerChoice = prompt("Select your throw");
              result = playGame(playerChoice, computerPlay());
              console.log(result);
              if (wasWin(result)) {
                  playerScore += 1;
              } else if (wasDraw(result)) {

              } else {
                  computerScore += 1;
              }                  
            }

        if (playerScore > computerScore) {
            console.log("You win! your score: " + playerScore + " computer score: " + computerScore);
        } else if (computerScore > playerScore) {
            console.log("You lose! your score: " + playerScore + " computer score: " + computerScore);
        } else {
            console.log("You draw! your score: " + playerScore + " computer score: " + computerScore);
        }
      }

      function wasWin(foo) {
         return foo.startsWith("You win!"); 
      }

      function wasDraw(foo) {
          return foo.startsWith("Draw!");
      }

      function capitalize(foo) {
        let lowercase = foo.toLowerCase();
        return lowercase.charAt(0).toUpperCase() + lowercase.slice(1, lowercase.length);
    }
  </script>
</body>
</html>